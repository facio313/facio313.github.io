# 주거적지 현황분석 시스템
1. 타지에 살던 포스웨이브의 신규사원의 직주근접 주거지 현황 확인
2. 개인 주거성향 및 경제여건에 부합
3. 주거예상 지역과 행정구역 상 경계 접하는 시군구 대상
4. 주거지 현황 조회
- 주거환경(인구 교통, 안전 및 편의시설 등)
- 최근 실거래가
5. 주거성향에 맞는 주거적지 탐색
- 주거성향 설정(주거환경, 가격 등)
- 주거적지 등록, 조회, 관리

# 요구사항 세부내역

## 지도 공통기능
1. 지역선택 지도이동
- 활성화된 사이드바에서 카카오 주소검색 API를 활용하여 주소 키워드를 입력하여 주소 이동
- 드롭다운 메뉴에서 지역 선택 후 그 지역의 행정구역(centroid)로 지도 이동(view)
- 위치 표시(marker기능?)
* 사이드바에 시도/시군구/읍면동 선택 기능
* 특정 지역구 선택 시 그쪽 가는 곳
2. 지도 선택 행정구역 확인
* QGIS에서 BJCD(시도 코드)의 좌표로 이동시켜주면 되는 것(이걸 centroid해서 중간으로?)
* minX minY maxX maxY 갖고 와서 envelope해서 가져오기
* 지도 선택, 주소 검색 -> 읍면동 선택 시 시도/시군구/읍면동까지 보여줘야 함
* BJCD 앞의 2자리는 시도 코드 / 3~5 시군구 코드 / 6~8 읍면동 코드 / 나머지는 리 코드
3. 지도표출 주제도 on/off
* 읍면동, 시군구 등 레이어들 on/off하는 것(레이어 트리구조가 있어야 함)
4. 가점
* 주소검색 api는 네이버, 카카오, vworld
* 누른 점의 xy 좌표값 가져오는 것 -> 해당 좌표로 정확한 주소 가져오기(api로 하면 됨)
* 연속지적도로도 주소 가져오기 가능함 - PNU가 나옴
* 배경정보 QGIS 웹-TMS-배경지도 아무거나 선택하기 => 그렇게 같이 보여주면 좋겠다!!

## 주거현황 조회
1. 안전현황 조회
* 생활안전정보 - data api, api 가이드
* 얘가 제일 난해한 부분...꼭 활용하기
* 단순히 wms을 받아서 map에 올리면 지만
* 우리는 주거 현황 등록 관리를 해야 하기 때문에 xml이나 json으로 호출해야 함
* 교통사고, 보건안전(병/의원 등) 등 - 필요한 것들만 한 개씩만 대표되는 것들로 정해서 보여주면 됨 more) 사고안전(노후건물) 등등, 치안은 좀 많을 것 같다.
* 좌표가 중요한데, 실시간으로 가져와서 표현하는 방법이 있고, 걔를 가공해서 공간데이터로 가공한 다음 shp파일로 변환 후 디비에 올려서 써도 됨
2. 주요지점(시설물 POI) 조회
* POI 데이터를 주제도로 제공하는 것이 있음. point로 제공하는 것도 있고, 제일 쉬운 것은 도로명 사업단에서 만들어놓은 건물 정보가 있음
* 단독주택 분류, 공동주택 분류, 위락시설, 위험물 처리 시설 등 굉장히 다양한 분류가 있음.. 이걸 가지고 POI 대체가 가능하다.
* 화면 상 지정 영역에서 보여줄 때는 point로 하는 게 편함. 하지만 그럼 지도가 안 이쁨. 폴리곤은 걸치고 겹치고 그런 것도 있어서, 분석을 해서 intersect해서 count할 때는 point가 낫지만, 보여줄 때는 폴리고닝 이쁘기 때문에 '건물 정보'로 사용하는 게 낫다.
3. 실거래가 조건
* 국토부 공식 사이트에서 제공하는데 단독다가구, 아파트, 연립, 오피스텔 - 매매, 전월세
* 번지가 안 나옴... 단독다가구는 제외해야 할 듯
* 실거래가 정보는 PNU로 연속지적도의 폴리곤을 가져올 수 있음! - 폴리곤의 st_centroid에 marker로 보여주면 됨

## 지역별 주거현황 관리
1. 지역(읍면동)별 주거현황 관리
* 대상지 생각하고 있을 텐데 : 상암쪽!
* 관리 테이블로 으엥? 이거 어떻게 하라는 건
* 시설 관려 안양1동에는 몇 개, 안전 관련 안양2동에는 몇 개 ~ 이런 목록
* 목록을 선택하면 그 행정동으로 이동하면 되는 것이고~~~

## 주거저지 설정
1. 주거적지 설정 관리
* 내가 살아야 할 행정동에는 학교 하나 무조건, 운동 시설 하나 무조건!! 있다 없다, 여러 개 있다, 혐오시설은 없었으면 좋겠다라는 것 설정해서 저장하고 관리한다. -> 쿠키로?
* 이 설정을 여러 가지해서 저장해놓으면 그걸 목록화하여 따로 관리함

## 주거적지 분석
1. 주거적지 분석 결과 확인
* 조건에 맞는 읍면동 뽑아내는 것. 위에 것에서 하나 선택하고, 분석을 돌리면, 설정 조건에 맞는 읍면동 싹 다 갖고 오는 것.
* 어떤 것은 만족하지만, 어떤 것은 만족하지 않을 숟 있고, 값들도 다 다를 것. 각자 생각하는 기준으로 색깔을 달리해서 보여주고 그런 것
* 여기서 기준을 잘 설정해놔야 한다.

## 주거적지 관리
1. 주거적지 저장 관리
* 목록별로 주르륵 나올 텐데, 읍면동 목록이 나오면 그것 중 원하는 것을 따로 저장하고 관리하기 - 찜기능인 듯



** 근데 문제가 있음... ADM_CD 통계청 행정동 코드 / UFID? BJCD? 국토부 법정동 코드
** 연속지적도에는 법정동 코드가 드러가 있음... 근데 ADM_CD는 행정동 코드이기 때문에 그 값을 못 가져옴... PNU를 가지고 행정동 코드와 못 가져옴.. mapping을 하든지, api를 활용하든지 머하든지...

** 연속지적도는 너무 커서 불러오기 너무 커... 축척에 따라 달리 해야 함.. 어떤 scale에서는 연속지적도를 보여줄 필요가 없음.. 세밀하게 보면 보여줘야 함. QGIS의 속성에서 보여주고 안 보여줄 수도 있고, 자바스크립트에서 설정할 수도 있고, 그것과 관련하여 메세지를 띄울 수도 있고.

** 원하느 대상 행정구역만 잘라서 쓰면 속도 좋음. 마포구꺼만 하면 됨 나는...다른 것도 할까
** 필터 걸린 채로 익스포트 하면 그것만 저장됨
** 걔를 디비에 올려서 쓰면 편하다~~

** 왜 다른 곳은 안 했나요? 데이터가 커서 필터링 해서 붙였습니다.. 

** 행정경계_국토부 - 법정동 
** 행정경계_통계청 - 행정동(읍면동에서 위와 차이가 있음)
=> 통계청 행정동 경계를 썼으면 좋겠다
나는 더 세밀하게 보고 싶다면 직계구?집계구? 통계청에서 통계를 조사할 때 기준이 되는 것
집계구는 잘 선별해서 써라~
기초단위구는 조사원의 조사를 위한 것! 
집계구나 기초단위구는 너무 잘게 잘랐엉....
그냥 행정동 경계까지 쓰는 것이 좋을 것 같다.
** 건물, 연속지적

** 좌표계를 맞추는 방법 : 웹상에서 코딩해서 보여줄 때 이 때 변환해서 할 때도 있고, 데이터를 가공할 때 하나의 좌표계를 맞춰서 디비에 올릴 때가 있고!! 후자를 많이 씀. 하지만 배경지도는 좌표계를 바꿀 수 없음. 그건 전자로 해야 함....

** 주신 데이터랑 다운로드 받은 데이터를 비교해봐야 함!! 실제로 다운 받아서 보라구~~~
** 서울 경기만 머지시키고 걔를 포인트로 변환하고,,,,그걸 별도로 하신 것
** 대상지를 다시 가공해서 만들어~~~
** 어느 사이트에서 어떻게 받는지는 직접해봐야 한다.


# 문서
나중에 회사걸로 주신대
## 요구사항 명세서
## ERD 
ERMASTER, 등등 편한 걸로 통일하세요~
## 사용자 인터페이스 설계서
게시판 - 사내게시판 - 자료실 - Power Mockup

각자의 일정계획서 만들기!!!
공통으로 해야 할 부분, 혼자 할 부분 정하기

