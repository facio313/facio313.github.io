---
layout: post
title: Abstract VS Interface
description: 추상클래스와 인터페이스의 쓰임은 비슷해보이는데 왜 나누어져 있지?
date: 2023-03-21
published: true
categories: Java
tags: [abstract, interface, java]
---
### 추상클래스(Abstract Class)
클래스가 abstract로 정의됐거나 클래스 안에 추상 메서드가 하나 이상 있는 경우를 말한다. 상속을 통해 자손 클래스에서 추상 메서드를 완성하도록 유도하는 클래스로 미완성 설계도라고 표현한다. 상속을 위한 클래스여서 따로 객체 생성은 불가능하다. 
### 인터페이스(Interface)
모든 메서드가 추상 메서드로 존재하는 것으로 이 인터페이스를 구현할 때(implements) 방법서의 개념을 말한다. 즉 기본 설계도라고 표현할 수 있다.
~메서드를 ~식으로 재정의하라!라는 식으로 Java 8부터 default를 이용해 일반 메서드 구현이 가능하다.

# 공통점
상속 시 추상 메서드를 강제로 구현해야 한다.
=> 즉 추상 메서드를 구현한다.

# 차이점
추상 클래스 : 기능 이용 및 확장 => is(생물 - 인간 - 경수, 생물 - 동물 - 거북이, 생물 - 동물 - 비둘기)
인터페이스 : 함수 강제 구현 -> 구현 객체의 같은 동작 보장 => has(사람 - 말하기, 경수 - 프로그래머, 경수/거북이 - 수영하기, 비둘기 - 날기)

자바는 다중 상속의 모호성 때문에 다중 상속을 지원하지 않아 super 클래스를 하나밖에 못 둔다.
* 다중 상속의 모호성 : 다중 상속 시 같은 이름의 속성이나 메서드가 존재할 때 과연 그게 어느 클래스의 것인가?
즉 상속은 super 클래스의 기능을 이용, 확장하기 위함인데 이때 다수의 클래스를 상속 받으면 어떤 클래스의 기능을 이용하고 확장하는 것인지 모르게 된다.

인터페이스는 해당 구현 객체에게 자신을 사용하기 위한 가이드라인을 제공한다는 것을 위해 존재한다.
* 인터페이스는 'public static final 타입 상수이름 = 값', 'public abstract 메서드이름(매개변수 목록)'으로 구성되는데 보통 생략한다.
* 인터페이스는 extends를 통해 다른 인터페이스를 상속받을 수 있다.
* 인터페이스의 메서드는 abstract와 Java 8부터 default, static도 사용 가능하다.

! 그렇다면 인터페이스에서 다중 구현의 모호성은 없을까? 충분히 있을 만하다. 인터페이스는 다중 구현(상속)이 가능하고 같은 이름의 메서드가 존재할 가능성도 있다. 이를 '다이아몬드 문제'라고 한다. 하지만 인터페이스를 통해 다중 구현한다면 다이아몬드의 문제는 존재하지 않는다. 왜? 인터페이스는 단순 빈 껍데기, 가이드라인일 뿐 그걸 구현해서 정의하는 것은 구현 객체이기 때문이다. 예를 들어, Book과 Newspaper의 인터페이스에는 show()라는 추상 메서드가 존재한다. 이때 iPad라는 클래스가 두 개를 다중 구현한다면 show()라는 메서드명이 겹쳐서 이 메서드가 어떤 인터페이스의 것인지 모르게 된다. 하지만 Book과 Newspaper의 show()라는 메서드는 추상 메서드로 메서드 바디가 존재하지 않는다. 즉 정해진 것이 없기 때문에 무엇을 가져와 쓰든 구현 객체에서 재정의된 것이 쓰이게 된다는 것이다. 그래서 '다이아몬드 문제'가 발생하지 않는다.
* 다이아몬드 문제
  사람
엄마 아빠
  자식

? 그렇다면 Java8부터 default를 이용했을 때는 다이아몬드 문제가 발생할 수 있지 않는가?!
1. 클래스나 super 클래스의 메서드가 default method보다 우선권을 가진다.
2. 1번 이외에는 Sub 인터페이스가 이긴다.
3. 그밖에는 명시적 호출을 한다. X.super.method() 형태의 새로운 문법

https://myjamong.tistory.com/150

https://brunch.co.kr/@kd4/6
https://goodgid.github.io/Java-8-Default-Method/