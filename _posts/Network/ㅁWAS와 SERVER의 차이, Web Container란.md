Web
- 논리적 공간(논리적 식별자)
- 한반도
- (대화를 하기 위해 존재하는 공간)

Internet
- 물리적 공간
- 대한민국

Web Server란?
WS
- 클라이언트의 request를 받아 정적인 컨텐츠(html, css, js)를 response하는 서버
- 아파치, Nginx, IIS, webtoB

WAS란?
- Web Application Server
- 클라이언트의 request를 받아 DB조회나 어떤 로직을 처리해야 하는 동적인 컨텐츠를 response하는 서버
- 톰캣, 웹로직, 웹스피어, 제우스, 제이보스

1. 사용자가 URL(또는 IP)을 통해 Web Server를 호출하고 요청사항을 객체(request)에 담아 전송
2. Web Server는 요청 객체(request)를 받아서 바로 처리하거나 어플리케이션 서버(WAS)로 객체 전달
3. WAS는 요청에 대한 내용과 요청 객체(request)를 받아 적절히 처리 (필요시 DB 작업 진행)
4. WAS는 처리 후 결과를 응답 객체(response)에 담아 Web Server로 회신
5. Web Server는 응답 객체(response)를 다시 사용자에게 회신
6. 사용자의 브라우저는 Web Server가 보내준 코드를 해석해 화면을 구성하여 출력


클라이언트(브라우저) - Web Server - WAS - DB


차이점?
- 어떤 타입의 컨텐츠(동적, 정적)를 제공하느냐
- 웹 서버와 WAS는 각각 독립적으로 존재할 수 있음
- 대부분의 WAS는 정적인 컨텐츠를 제공해주고 있기 때문에, 웹 서버 없이 WAS만 존재할 수 있음
- 즉, WAS는 웹 서버를 포함하는 개념이라고 할 수 있음

Web Server 사용 이유
- WAS가 웹 서버를 포함하는 개념이라면 왜 굳이 같이 사용하는가?
1) WAS의 부담을 줄이기 위해
- WAS 앞에 Web Server을 둬서 정적인 문서만 처리하도록 하고, WAS는 애플리케이션의 로직만 수행하도록 한다
2) WAS의 환경 설정 파일을 외부에 노출시키지 않도록 하기 위해서
- 클라이언트와 연결하는 포트가 직접 WAS에 연결되어 있다면 중요한 설정 파일들이 노출될 수 있음
- Web Server와 WAS에 접근하는 포트가 달라서 WAS에 들어오는 포트에는 방화벽을 쳐서 보안을 강화할 수 있음
*아파치 톰캣 -> WAS(톰캣)가 웹서버(아파치) 기능을 포함

*CGI란 
- Common Gateway Interface(공용 게이트웨이 인터페이스)
- 인터페이스로 웹 서버 상에서 프로그램을 동작시키기 위한 방법을 정의한 프로그램
- 웹 서버와 외부 프로그램 사이에서 정보를 주고 받는 방법이나 규약
- 두 개 이상의 컴퓨터 간 자료들을 주고 받는 프로그램 또는 주고 받는 것 자체
- PHP, Perl, Python 등은 Apache를 통해 CGI 적용이 가능하지만 Java는 컨테이너라는 것이 필요함
통신 요청이 웹 서버에 전달된다.
웹 서버는 요청에 들어있는 주소가 CGI 프로그램에 대응되는지 확인한다.
대응되는 CGI 프로그램이 있다면 실행하여 환경변수와 표준입력 형태로 요청을 전달한다. (CGI 전달 방식 표준)
웹 서버는 CGI 프로그램이 표준 출력으로 돌려 보낸 내용을 그대로 응답으로 돌려준다.

Web Container란?
```
웹 컨테이너(web container, 또는 서블릿 컨테이너)는 웹 서버의 컴포넌트 중 하나로 자바 서블릿과 상호작용한다. 웹 컨테이너는 서블릿의 생명주기를 관리하고, URL과 특정 서블릿을 맵핑하며 URL 요청이 올바른 접근 권한을 갖도록 보장한다.[1]

웹 컨테이너는 서블릿, 자바서버 페이지(JSP) 파일, 그리고 서버-사이드 코드가 포함된 다른 타입의 파일들에 대한 요청을 다룬다. 웹 컨테이너는 서블릿 객체를 생성하고, 서블릿을 로드와 언로드하며, 요청과 응답 객체를 생성하고 관리하고, 다른 서블릿 관리 작업을 수행한다.

웹 컨테이너는 웹 컴포넌트 자바 EE 아키텍처 제약을 구현하고, 보안, 병행성, 생명주기 관리, 트랜잭션, 배포 등 다른 서비스를 포함하는 웹 컴포넌트의 실행 환경을 명세한다.
```
- Servlet Container : WAS 내부에서 개발자를 대신해서 Servlet을 관리하는 것
- Java Servlet과 상호작용하는 WAS의 구성요소
- Servlet은 생명주기를 관리함
	- Servlet을 로드해 초기화(init())한다
	- 클라이언트의 요청으로 Servlet 메서드를 호출한다
	- Servlet Container가 종료되면 Servlet을 종료시키고(destroy()) 메모리를 정리한다(Garbage Collection)
- 통신을 지원함
	- 웹 서버로부터 받은 요청을 분석해 Servlet을 실행시키고, Servlet에서는 웹서버의 정보를 확인하도록 하는 기능을 제공함
	- Servlet과 Web Server가 서로 통신할 수 있는 쉬운 방법들을 제공함
		-ServerSocket, 특정 포트에 리스닝, 연결 요청 시 스트림 생성
- 멀티스레딩 지원
- 선언적 보안 관리
	- 보안에 관련된 내용을 Servlet, 자바 클래스 코드 안에 하드 코딩할 필요가 없음
	- 즉, 필요한 데이터나 값, 코드 등을 직접 타이핑해서 집어넣는 일이 없음
	- 보안 관리는 배포서술자(web.xml)에다가 기록하면 됨
- JSP 지원
*컴포넌트란?
- 특정 기능, 관련 기능이 재사용 가능한 형태로 만들어진 프로그램
- 소프트웨어 개발을 레고 블럭 쌓듯이 진행 가능하게 함

https://codevang.tistory.com/191